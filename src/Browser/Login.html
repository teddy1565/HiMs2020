<!-- importent! this CSP not safe, it just for test dev -->
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'">
<!-- split line -->
<script type="text/javascript" src="../UIresource/jquery-3.5.1.js" onload="window.$ = window.jQuery"></script>
<html>
    <head>
        <link rel="stylesheet" href="../UIresource/bootstrap-4.5.3-dist/css/bootstrap.css">
        <script src="../UIresource/bootstrap-4.5.3-dist/js/bootstrap.bundle.js"></script>
    </head>
    <body id="LoginBody">
        <form>
            <div class="container-fluid">
                <div class="row justify-content-center" style="margin-top: 30%;">
                    <div class="col-md-5">
                        <div class="form-group">    
                            <input type="text" id="account" class="form-control" placeholder="帳號">
                            <input type="password" style="margin-top:5%;"id="password" class="form-control" placeholder="密碼">
                            <button class="btn btn-success form-control" style="margin-top:5%" onclick="MainLogin()">登入</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </body>
</html>
<script>
    function MainLogin(){
        let ID = document.getElementById("account").value;
        let PWD = document.getElementById("password").value;
        window.ipcRenderer.send("UserLoginFromLoginWindow",JSON.stringify([ID,PWD]));
    }
    window.ipcRenderer.receive("loadBG",(args)=>{
        window.ipcRenderer.send("GetBGconfig","1");
    });
    window.ipcRenderer.receive("BGconfigResult",(args)=>{
        let Config = JSON.parse(args);
        let bodyCSS = document.getElementById("LoginBody");
        bodyCSS.style=`background:url(${Config.imagePath});background-position: ${Config.backgroundPosition};background-repeat: ${Config.backgroundRepeat};background-attachment:${Config.backgroundAttachment};background-size:${Config.backgroundSize};-webkit-background-size:${Config.WebkitBackgroundSize};-o-background-size:${Config.oBackgroundSize};-moz-background-size:${Config.mozBackgroundSize};-ms-background-size:${Config.msBackgroundSize}`;
    });
</script>

