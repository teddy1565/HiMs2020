<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'">
<script type="text/javascript" src="../UIresource/jquery-3.5.1.js" onload="window.$ = window.jQuery"></script>
<html>
    <head>
        <script type="module" src="../../node_modules/hammerjs/hammer.js"></script>
        <script type="module" src="../../node_modules/cornerstone-core/dist/cornerstone.js"></script>
        <script type="module" src="../../node_modules/cornerstone-math/dist/cornerstoneMath.js"></script>
        <script type="module" src="../../node_modules/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoader.js"></script>
        <script type="module" src="../../node_modules/cornerstone-tools/dist/cornerstoneTools.js"></script>
        <link rel="stylesheet" href="../UIresource/bootstrap-4.5.3-dist/css/bootstrap.css">
        <script src="../UIresource/bootstrap-4.5.3-dist/js/bootstrap.bundle.js"></script>
    </head>
    <body>
        <div class="container">
            <button class="btn btn-success" onclick="load()">LOAD IMAGE</button>
        </div>
        <div id="imbuf">

        </div>
    </body>
</html>
<script>
    let images=[];
    function load(){
        window.ipcRenderer.send("GETImage","GiveMeImage");
    }
    window.ipcRenderer.receive("FILE",(args)=>{
        images.push(args);
    });
    function DICOM_sqrt(images){
        let Studys=[];
        for(let i in images){
            let find = false;
            for(let j in Studys){
                if(images[i].Study==Studys[j].Study){
                    Studys[j].Data.push(images[i]);
                    find=true;
                    break;
                }
            }
            if(find==false){
                let pushData = {
                    "Study":`${images[i].Study}`,
                    Data:[]
                }
                pushData.Data.push(images[i]);
                Studys.push(pushData);
            }
        }
        return Studys;
    }
</script>